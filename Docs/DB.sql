DROP TABLE RESERVA_VIAJEROS;
DROP TABLE RESERVA_CARGA;
DROP TABLE RESERVA;
DROP TABLE CARGA;
DROP TABLE REMITENTES;
DROP TABLE VIAJEROS;
DROP TABLE NACIONALIDADES_USUARIOS;
DROP TABLE USUARIO;
DROP TABLE VUELO_CARGA;
DROP TABLE VUELO_VIAJEROS;
DROP TABLE VUELO;
DROP TABLE AVION_CARGA;
DROP TABLE AVION_VIAJEROS;
DROP TABLE AVION;
DROP TABLE AEROPUERTO;
DROP TABLE AEROLINEA;
DROP TABLE CIUDAD;
DROP TABLE PAIS;



CREATE TABLE PAIS
(
  NOMBRE VARCHAR2(255 BYTE) NOT NULL,
  CONSTRAINT PAIS_PK PRIMARY KEY (NOMBRE)
);
CREATE TABLE CIUDAD
(
  NOMBRE VARCHAR2(255 BYTE) NOT NULL,
  NOMBRE_PAIS VARCHAR2(255 BYTE) NOT NULL,
  CONSTRAINT FK_NOMBRE_PAIS_CIUDAD FOREIGN KEY(NOMBRE_PAIS) REFERENCES PAIS(NOMBRE),
  CONSTRAINT CIUDAD_PK PRIMARY KEY (NOMBRE)
);
CREATE TABLE AEROLINEA
(
  COD_IATA VARCHAR2(255 BYTE) NOT NULL,
  NOMBRE VARCHAR2(255 BYTE) NOT NULL,
  CONSTRAINT COD_IATA_PK PRIMARY KEY (COD_IATA)
);

CREATE TABLE AEROPUERTO
(
  COD_IATA VARCHAR2(255 BYTE) NOT NULL,
  NOMBRE VARCHAR2(255 BYTE) NOT NULL,
  TIPO VARCHAR2(255 BYTE) NOT NULL,
  NOMBRE_CIUDAD VARCHAR2(255 BYTE) NOT NULL,
  CONSTRAINT FK_CIUDAD_AEROPUERTO FOREIGN KEY(NOMBRE_CIUDAD) REFERENCES CIUDAD(NOMBRE),
  CONSTRAINT COD_IATA_AEROPUERTO_PK PRIMARY KEY (COD_IATA)
);

CREATE TABLE AVION
(
  NUM_SERIE VARCHAR2(255 BYTE) NOT NULL,
  MODELO VARCHAR2(255 BYTE),
  MARCA VARCHAR2(255 BYTE),
  ANIO_FABRICACION NUMBER,
  CONSTRAINT CK_ANIO_VALIDO CHECK(ANIO_FABRICACION > 0),
  CONSTRAINT NUM_SERIE_PK PRIMARY KEY (NUM_SERIE)
);
CREATE TABLE AVION_VIAJEROS
(
  NUM_SERIE VARCHAR2(255 BYTE) NOT NULL,
  SILLAS_EJECUTIVAS NUMBER,
  SILLAS_ECONOMICAS NUMBER,
  CONSTRAINT CK_EJEC_VALIDAS CHECK(SILLAS_EJECUTIVAS > 0),
  CONSTRAINT CK_ECON_VALIDAD CHECK(SILLAS_ECONOMICAS > 0),
  CONSTRAINT FK_AVION_VIAJEROS FOREIGN KEY(NUM_SERIE) REFERENCES AVION(NUM_SERIE),
  CONSTRAINT AVION_PASAJEROS_PK PRIMARY KEY (NUM_SERIE)
);
CREATE TABLE AVION_CARGA
(
  NUM_SERIE VARCHAR2(255 BYTE) NOT NULL,
  CAPACIDAD DOUBLE PRECISION,
  CONSTRAINT FK_AVION_CARGA FOREIGN KEY(NUM_SERIE) REFERENCES AVION(NUM_SERIE),
  CONSTRAINT AVION_CARGA_PK PRIMARY KEY (NUM_SERIE)
);


CREATE TABLE VUELO
(
  ID NUMBER NOT NULL,
  HORA_SALIDA DATE,
  HORA_LLEGADA DATE,
  DURACION VARCHAR2(255 BYTE),
  DISTANCIA DOUBLE PRECISION,
  FRECUENCIA NUMBER,
  TIPO_VIAJE VARCHAR2(255 BYTE),
  AEROLINEA VARCHAR2(255 BYTE) NOT NULL,
  AVION VARCHAR2(255 BYTE) NOT NULL,
  AEROPUERTO_SALIDA VARCHAR2(255 BYTE) NOT NULL,
  AEROPUERTO_LLEGADA VARCHAR2(255 BYTE) NOT NULL,
  CONSTRAINT FK_AEROLINEA_VUELO FOREIGN KEY(AEROLINEA) REFERENCES AEROLINEA(COD_IATA),
  CONSTRAINT FK_AVION_VUELO FOREIGN KEY(AVION) REFERENCES AVION(NUM_SERIE),
  CONSTRAINT FK_AEROPUERTO_SALIDA FOREIGN KEY(AEROPUERTO_SALIDA) REFERENCES AEROPUERTO(COD_IATA),
  CONSTRAINT FK_AEROPUERTO_LLEGADA FOREIGN KEY(AEROPUERTO_LLEGADA) REFERENCES AEROPUERTO(COD_IATA),
  CONSTRAINT CK_FECHA_VALIDA CHECK (HORA_SALIDA < HORA_LLEGADA),
  CONSTRAINT VUELO_PK PRIMARY KEY (ID)
);

CREATE TABLE VUELO_VIAJEROS
(
  ID NUMBER NOT NULL,
  COSTO_EJECUTIVO DOUBLE PRECISION,
  COSTO_ECONOMICO DOUBLE PRECISION,
  CONSTRAINT FK_VUELO_VIAJEROS FOREIGN KEY (ID) REFERENCES VUELO(ID),
  CONSTRAINT VUELO_VIAJEROS_PK PRIMARY KEY (ID)
);
CREATE TABLE VUELO_CARGA
(
  ID NUMBER NOT NULL,
  COSTO_DENSIDAD DOUBLE PRECISION,
  CONSTRAINT FK_VUELO_CARGA FOREIGN KEY (ID) REFERENCES VUELO(ID),
  CONSTRAINT VUELO_CARGA_PK PRIMARY KEY (ID)
);


CREATE TABLE USUARIO 
(
  ID NUMBER NOT NULL,
  TIPO_ID VARCHAR2(255 BYTE),
  NOMBRE VARCHAR2(255 BYTE), 
  ROL VARCHAR2(255 BYTE),
  CLAVE VARCHAR2(255 BYTE),
  AEROLINEA_FRECUENTE VARCHAR2(255 BYTE),
  CONSTRAINT FK_AEROLINEA_FRECUENTE FOREIGN KEY(AEROLINEA_FRECUENTE) REFERENCES AEROLINEA(COD_IATA),
  CONSTRAINT USUARIO_PK PRIMARY KEY (ID)
);


CREATE TABLE VIAJEROS
(
  ID NUMBER NOT NULL,
  CONSTRAINT VIAJEROS_PK PRIMARY KEY (ID),
  CONSTRAINT FK_VIAJEROS FOREIGN KEY(ID) REFERENCES USUARIO(ID)
);


CREATE TABLE REMITENTES
(
  ID NUMBER NOT NULL, 
  CONSTRAINT REMITENTES_PK PRIMARY KEY (ID),
  CONSTRAINT FK_REMITENTES FOREIGN KEY(ID) REFERENCES USUARIO(ID)
);

CREATE TABLE NACIONALIDADES_USUARIOS
(
  ID_USUARIO NUMBER NOT NULL,
  NACIONALIDAD VARCHAR2(255 BYTE) NOT NULL,
  CONSTRAINT NACIONALIDAD_USUARIO_PK PRIMARY KEY (ID_USUARIO,NACIONALIDAD),
  CONSTRAINT FK_USUARIO_NACIONALIDAD FOREIGN KEY(ID_USUARIO) REFERENCES USUARIO(ID),
  CONSTRAINT FK_NACIONALIDADES FOREIGN KEY(NACIONALIDAD) REFERENCES PAIS(NOMBRE)
);


CREATE TABLE CARGA
(
  TRACKING_NUM NUMBER NOT NULL,
  CONTENIDO VARCHAR2(255 BYTE),
  PESO DOUBLE PRECISION,
  VOLUMEN DOUBLE PRECISION,
  CONSTRAINT CARGA_PK PRIMARY KEY (TRACKING_NUM)
);

CREATE TABLE RESERVA
(
  ID NUMBER NOT NULL,
  CONSTRAINT RESERVA_PK PRIMARY KEY (ID)
);
CREATE TABLE RESERVA_VIAJEROS
(
  ID NUMBER NOT NULL,
  ID_VUELO NUMBER NOT NULL,
  ID_VIAJEROS NUMBER NOT NULL,
  CONSTRAINT FK_VUELO_RESERVA_VIAJEROS FOREIGN KEY (ID_VUELO) REFERENCES VUELO_VIAJEROS(ID),
  CONSTRAINT FK_VIAJEROS_RESERVA_VIAJEROS FOREIGN KEY (ID_VIAJEROS) REFERENCES VIAJEROS(ID),
  CONSTRAINT RESERVA_VIAJEROS_PK PRIMARY KEY (ID),
  CONSTRAINT FK_RESERVA_VIAJEROS FOREIGN KEY(ID) REFERENCES RESERVA(ID)
);
CREATE TABLE RESERVA_CARGA
(
  ID NUMBER NOT NULL,
  ID_VUELO NUMBER NOT NULL,
  ID_REMITENTE NUMBER NOT NULL,
  ID_CARGA NUMBER NOT NULL,
  CONSTRAINT FK_VUELO_RESERVA_CARGA FOREIGN KEY (ID_VUELO) REFERENCES VUELO_CARGA(ID),
  CONSTRAINT FK_REMITENTE_RESERVA_CARGA FOREIGN KEY (ID_REMITENTE) REFERENCES REMITENTES(ID),
  CONSTRAINT FK_CARGA_RESERVA_CARGA FOREIGN KEY (ID_CARGA) REFERENCES CARGA(TRACKING_NUM),
  CONSTRAINT RESERVA_CARGA_PK PRIMARY KEY (ID),
  CONSTRAINT FK_RESERVA_CARGA FOREIGN KEY(ID) REFERENCES RESERVA(ID)
);

Insert into PAIS (NOMBRE) values ('Colombia');
Insert into PAIS (NOMBRE) values ('Venezuela');
Insert into PAIS (NOMBRE) values ('Argentina');
Insert into PAIS (NOMBRE) values ('Estados Unidos');
Insert into PAIS (NOMBRE) values ('Italia');

Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Bogota','Colombia');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Cali','Colombia');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Medellin','Colombia');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Caracas','Venezuela');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Barquisimeto','Venezuela');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Maracaibo','Venezuela');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Buenos Aires','Argentina');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('La Plata','Argentina');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Rosario','Argentina');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('New York','Estados Unidos');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Orlando','Estados Unidos');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Boston','Estados Unidos');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Vienna','Italia');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Milano','Italia');
Insert into CIUDAD (NOMBRE, NOMBRE_PAIS ) values ('Roma','Italia');

Insert into AEROLINEA(COD_IATA, NOMBRE) values ('AV', 'Avianca');
Insert into AEROLINEA(COD_IATA, NOMBRE) values ('AA', 'American Airlines');
Insert into AEROLINEA(COD_IATA, NOMBRE) values ('LA', 'LATAM Airlines');
Insert into AEROLINEA(COD_IATA, NOMBRE) values ('DL', 'Delta');
Insert into AEROLINEA(COD_IATA, NOMBRE) values ('AZ', 'Alitalia');

Insert into AEROPUERTO(COD_IATA,NOMBRE, TIPO, NOMBRE_CIUDAD) values ('CCS', 'Aeropuerto Simon Bolivar','Internacional','Caracas');
Insert into AEROPUERTO(COD_IATA,NOMBRE, TIPO, NOMBRE_CIUDAD) values ('BOG', 'El Dorado Intl','Internacional','Bogota');
Insert into AEROPUERTO(COD_IATA,NOMBRE, TIPO, NOMBRE_CIUDAD) values ('SWF', 'Stewart International','Internacional','New York');
Insert into AEROPUERTO(COD_IATA,NOMBRE, TIPO, NOMBRE_CIUDAD) values ('EZE', 'Ministro Pistarini','Local','Buenos Aires');
Insert into AEROPUERTO(COD_IATA,NOMBRE, TIPO, NOMBRE_CIUDAD) values ('AEP', 'Jorge Newbery','Local','Buenos Aires');
Insert into AEROPUERTO(COD_IATA,NOMBRE, TIPO, NOMBRE_CIUDAD) values ('KMW', 'Kostroma','Nacional','Roma');
Insert into AEROPUERTO(COD_IATA,NOMBRE, TIPO, NOMBRE_CIUDAD) values ('VIE', 'International','Nacional','Vienna');
Insert into AEROPUERTO(COD_IATA,NOMBRE, TIPO, NOMBRE_CIUDAD) values ('RMA', 'Roma','Internacional','Roma');



Insert into AVION(NUM_SERIE,MODELO, MARCA,ANIO_FABRICACION) values ('YV3453','747','Boeing','2006');
Insert into AVION(NUM_SERIE,MODELO, MARCA,ANIO_FABRICACION) values ('YV3653','747','Boeing','2006');
Insert into AVION(NUM_SERIE,MODELO, MARCA,ANIO_FABRICACION) values ('N6753','A312','Airbus','2002');
Insert into AVION(NUM_SERIE,MODELO, MARCA,ANIO_FABRICACION) values ('N2567','A312','Airbus','2000');
Insert into AVION(NUM_SERIE,MODELO, MARCA,ANIO_FABRICACION) values ('HK4343','707','Boeing','2008');
Insert into AVION(NUM_SERIE,MODELO, MARCA,ANIO_FABRICACION) values ('HK4763','710','Boeing','2008');
Insert into AVION(NUM_SERIE,MODELO, MARCA,ANIO_FABRICACION) values ('LV4153','A301','Airbus','2013');
Insert into AVION(NUM_SERIE,MODELO, MARCA,ANIO_FABRICACION) values ('I3463','407','Boeing','2014');

Insert into AVION_VIAJEROS(NUM_SERIE,SILLAS_ECONOMICAS,SILLAS_EJECUTIVAS) values('YV3453','80','15');
Insert into AVION_VIAJEROS(NUM_SERIE,SILLAS_ECONOMICAS,SILLAS_EJECUTIVAS) values('N2567','90','10');
Insert into AVION_VIAJEROS(NUM_SERIE,SILLAS_ECONOMICAS,SILLAS_EJECUTIVAS) values('HK4343','100','15');
Insert into AVION_VIAJEROS(NUM_SERIE,SILLAS_ECONOMICAS,SILLAS_EJECUTIVAS) values('LV4153','60','11');
Insert into AVION_VIAJEROS(NUM_SERIE,SILLAS_ECONOMICAS,SILLAS_EJECUTIVAS) values('I3463','30','5');

Insert into AVION_CARGA(NUM_SERIE,CAPACIDAD) values ('YV3653', '100');
Insert into AVION_CARGA(NUM_SERIE,CAPACIDAD) values ('N2567', '80');
Insert into AVION_CARGA(NUM_SERIE,CAPACIDAD) values ('HK4763', '90');


Insert into VUELO (ID,HORA_SALIDA,HORA_LLEGADA,DURACION,DISTANCIA,FRECUENCIA,TIPO_VIAJE,AEROLINEA,AVION,AEROPUERTO_SALIDA,AEROPUERTO_LLEGADA) values ('1',TO_DATE('3-SEP-2016 03:24:56','DD-MON-YYYY HH:MI:SS'),TO_DATE('3-SEP-2016 08:24:56','DD-MON-YYYY HH:MI:SS'),'05:00','2485','2','Internacional','AV','YV3453','CCS','SWF');
Insert into VUELO (ID,HORA_SALIDA,HORA_LLEGADA,DURACION,DISTANCIA,FRECUENCIA,TIPO_VIAJE,AEROLINEA,AVION,AEROPUERTO_SALIDA,AEROPUERTO_LLEGADA) values ('2',TO_DATE('5-SEP-2016 08:24:56','DD-MON-YYYY HH:MI:SS'),TO_DATE('5-SEP-2016 09:24:56','DD-MON-YYYY HH:MI:SS'),'01:00','500','4','Local','LA','N2567','EZE','AEP');
Insert into VUELO (ID,HORA_SALIDA,HORA_LLEGADA,DURACION,DISTANCIA,FRECUENCIA,TIPO_VIAJE,AEROLINEA,AVION,AEROPUERTO_SALIDA,AEROPUERTO_LLEGADA) values ('3',TO_DATE('9-SEP-2016 06:24:56','DD-MON-YYYY HH:MI:SS'),TO_DATE('9-SEP-2016 08:24:56','DD-MON-YYYY HH:MI:SS'),'02:00','2000','2','Nacional','DL','LV4153','KMW','VIE');
Insert into VUELO (ID,HORA_SALIDA,HORA_LLEGADA,DURACION,DISTANCIA,FRECUENCIA,TIPO_VIAJE,AEROLINEA,AVION,AEROPUERTO_SALIDA,AEROPUERTO_LLEGADA) values ('4',TO_DATE('13-SEP-2016 01:24:56','DD-MON-YYYY HH:MI:SS'),TO_DATE('13-SEP-2016 05:24:56','DD-MON-YYYY HH:MI:SS'),'04:00','1000','3','Internacional','AZ','I3463','CCS','SWF');
Insert into VUELO (ID,HORA_SALIDA,HORA_LLEGADA,DURACION,DISTANCIA,FRECUENCIA,TIPO_VIAJE,AEROLINEA,AVION,AEROPUERTO_SALIDA,AEROPUERTO_LLEGADA) values ('5',TO_DATE('15-SEP-2016 04:24:56','DD-MON-YYYY HH:MI:SS'),TO_DATE('15-SEP-2016 12:24:56','DD-MON-YYYY HH:MI:SS'),'06:00','4000','1','Internacional','DL','LV4153','RMA','CCS');

Insert into VUELO_VIAJEROS(ID,COSTO_EJECUTIVO,COSTO_ECONOMICO) values ('1','400','300');
Insert into VUELO_VIAJEROS(ID,COSTO_EJECUTIVO,COSTO_ECONOMICO) values ('2','100','50');
Insert into VUELO_VIAJEROS(ID,COSTO_EJECUTIVO,COSTO_ECONOMICO) values ('3','200','150');

Insert into VUELO_CARGA (ID,COSTO_DENSIDAD) values ('4','30');
Insert into VUELO_CARGA (ID,COSTO_DENSIDAD) values ('5','50');

Insert into USUARIO(ID,TIPO_ID,NOMBRE,ROL,CLAVE,AEROLINEA_FRECUENTE) values('23059253','Cedula Colombiana','Carlos','Remitente','papacito',null);
Insert into USUARIO(ID,TIPO_ID,NOMBRE,ROL,CLAVE,AEROLINEA_FRECUENTE) values('24563','Visa','Pepe','Viajero','papi',null);
Insert into USUARIO(ID,TIPO_ID,NOMBRE,ROL,CLAVE,AEROLINEA_FRECUENTE) values('2355634','Cedula Venezolana','David','Viajero','contra','AV');
Insert into USUARIO(ID,TIPO_ID,NOMBRE,ROL,CLAVE,AEROLINEA_FRECUENTE) values('2345234','Pasaporte','Ricardo','AdminVuelAndes','heyhey',null);
Insert into USUARIO(ID,TIPO_ID,NOMBRE,ROL,CLAVE,AEROLINEA_FRECUENTE) values('4342421','Pasaporte','Javier','AdminAeropuerto','12345',null);

Insert into NACIONALIDADES_USUARIOS(ID_USUARIO,NACIONALIDAD) values('23059253','Colombia');
Insert into NACIONALIDADES_USUARIOS(ID_USUARIO,NACIONALIDAD) values('23059253','Venezuela');
Insert into NACIONALIDADES_USUARIOS(ID_USUARIO,NACIONALIDAD) values('24563','Italia');
Insert into NACIONALIDADES_USUARIOS(ID_USUARIO,NACIONALIDAD) values('2355634','Colombia');
Insert into NACIONALIDADES_USUARIOS(ID_USUARIO,NACIONALIDAD) values('2345234','Estados Unidos');
Insert into NACIONALIDADES_USUARIOS(ID_USUARIO,NACIONALIDAD) values('4342421','Argentina');

Insert into VIAJEROS(ID) values ('23059253');
Insert into VIAJEROS(ID) values ('24563');
Insert into VIAJEROS(ID) values ('2355634');


Insert into REMITENTES(ID) values ('2345234');
Insert into REMITENTES(ID) values ('4342421');


Insert into CARGA(TRACKING_NUM,CONTENIDO,PESO,VOLUMEN) values('123','Videos','5','200');
Insert into CARGA(TRACKING_NUM,CONTENIDO,PESO,VOLUMEN) values('321','Libros','10','500');

Insert into RESERVA(ID) values ('1');
Insert into RESERVA(ID) values ('2');
Insert into RESERVA(ID) values ('3');
Insert into RESERVA(ID) values ('4');
Insert into RESERVA(ID) values ('5');

Insert into RESERVA_CARGA(ID,ID_VUELO,ID_REMITENTE,ID_CARGA) values('4','4','2345234','123');
Insert into RESERVA_CARGA(ID,ID_VUELO,ID_REMITENTE,ID_CARGA) values('5','5','4342421','321');

Insert into RESERVA_VIAJEROS(ID,ID_VUELO,ID_VIAJEROS) values('1','1','23059253');
Insert into RESERVA_VIAJEROS(ID,ID_VUELO,ID_VIAJEROS) values('2','2','24563');
Insert into RESERVA_VIAJEROS(ID,ID_VUELO,ID_VIAJEROS) values('3','3','2355634');


COMMIT;
